\doxysection{include/igl/decimate.h File Reference}
\hypertarget{decimate_8h}{}\label{decimate_8h}\index{include/igl/decimate.h@{include/igl/decimate.h}}


\doxylink{namespaceigl_a48e2a2c1ae537d160f7767a230be66b3}{igl\+::decimate} implements a customizable greedy edge collapser using a priority-\/queue\+:  


{\ttfamily \#include \"{}igl\+\_\+inline.\+h\"{}}\newline
{\ttfamily \#include \"{}decimate\+\_\+callback\+\_\+types.\+h\"{}}\newline
{\ttfamily \#include $<$Eigen/\+Core$>$}\newline
{\ttfamily \#include \"{}decimate.\+cpp\"{}}\newline
\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespaceigl}{igl}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{namespaceigl_a48e2a2c1ae537d160f7767a230be66b3}{igl\+::decimate}} (const Eigen\+::\+Matrix\+Xd \&V, const Eigen\+::\+Matrix\+Xi \&F, const size\+\_\+t max\+\_\+m, Eigen\+::\+Matrix\+Xd \&U, Eigen\+::\+Matrix\+Xi \&G, Eigen\+::\+Vector\+Xi \&J, Eigen\+::\+Vector\+Xi \&I)
\begin{DoxyCompactList}\small\item\em Assumes (V,F) is a manifold mesh (possibly with boundary) collapses edges until desired number of faces is achieved. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{namespaceigl_a012dde4236352501b14abc42b746906e}{igl\+::decimate}} (const Eigen\+::\+Matrix\+Xd \&V, const Eigen\+::\+Matrix\+Xi \&F, const size\+\_\+t max\+\_\+m, Eigen\+::\+Matrix\+Xd \&U, Eigen\+::\+Matrix\+Xi \&G, Eigen\+::\+Vector\+Xi \&J)
\begin{DoxyCompactList}\small\item\em This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{namespaceigl_a61885a8ab4cc1e4ed8ed1fba6e42ecb6}{igl\+::decimate}} (const Eigen\+::\+Matrix\+Xd \&V, const Eigen\+::\+Matrix\+Xi \&F, const \mbox{\hyperlink{namespaceigl_af967096efcc39e806f0c2b374e2ccc5f}{decimate\+\_\+cost\+\_\+and\+\_\+placement\+\_\+callback}} \&cost\+\_\+and\+\_\+placement, const \mbox{\hyperlink{namespaceigl_a64c8b006ed52af02a20d1664722a94b3}{decimate\+\_\+stopping\+\_\+condition\+\_\+callback}} \&stopping\+\_\+condition, const \mbox{\hyperlink{namespaceigl_af695d0b4a424387592b06f466a86088e}{decimate\+\_\+pre\+\_\+collapse\+\_\+callback}} \&pre\+\_\+collapse, const \mbox{\hyperlink{namespaceigl_a16fd55ae4f3085d4ed4d3c6bff008426}{decimate\+\_\+post\+\_\+collapse\+\_\+callback}} \&post\+\_\+collapse, const Eigen\+::\+Matrix\+Xi \&E, const Eigen\+::\+Vector\+Xi \&EMAP, const Eigen\+::\+Matrix\+Xi \&EF, const Eigen\+::\+Matrix\+Xi \&EI, Eigen\+::\+Matrix\+Xd \&U, Eigen\+::\+Matrix\+Xi \&G, Eigen\+::\+Vector\+Xi \&J, Eigen\+::\+Vector\+Xi \&I)
\begin{DoxyCompactList}\small\item\em Collapses edges of a {\bfseries{closed manifold mesh}} (V,F) using user defined callbacks in a priority queue. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{namespaceigl_a8e383abbd367d0ed68c602a7ae7ea2f7}{igl\+::decimate}} (const Eigen\+::\+Matrix\+Xd \&V, const Eigen\+::\+Matrix\+Xi \&F, const \mbox{\hyperlink{namespaceigl_af967096efcc39e806f0c2b374e2ccc5f}{decimate\+\_\+cost\+\_\+and\+\_\+placement\+\_\+callback}} \&cost\+\_\+and\+\_\+placement, const \mbox{\hyperlink{namespaceigl_a64c8b006ed52af02a20d1664722a94b3}{decimate\+\_\+stopping\+\_\+condition\+\_\+callback}} \&stopping\+\_\+condition, const \mbox{\hyperlink{namespaceigl_af695d0b4a424387592b06f466a86088e}{decimate\+\_\+pre\+\_\+collapse\+\_\+callback}} \&pre\+\_\+collapse, const \mbox{\hyperlink{namespaceigl_a16fd55ae4f3085d4ed4d3c6bff008426}{decimate\+\_\+post\+\_\+collapse\+\_\+callback}} \&post\+\_\+collapse, Eigen\+::\+Matrix\+Xd \&U, Eigen\+::\+Matrix\+Xi \&G, Eigen\+::\+Vector\+Xi \&J, Eigen\+::\+Vector\+Xi \&I)
\begin{DoxyCompactList}\small\item\em This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{namespaceigl_aa716c4de65ed56fd9f9968f9d79ee657}{igl\+::decimate}} (const Eigen\+::\+Matrix\+Xd \&V, const Eigen\+::\+Matrix\+Xi \&F, const \mbox{\hyperlink{namespaceigl_af967096efcc39e806f0c2b374e2ccc5f}{decimate\+\_\+cost\+\_\+and\+\_\+placement\+\_\+callback}} \&cost\+\_\+and\+\_\+placement, const \mbox{\hyperlink{namespaceigl_a64c8b006ed52af02a20d1664722a94b3}{decimate\+\_\+stopping\+\_\+condition\+\_\+callback}} \&stopping\+\_\+condition, Eigen\+::\+Matrix\+Xd \&U, Eigen\+::\+Matrix\+Xi \&G, Eigen\+::\+Vector\+Xi \&J, Eigen\+::\+Vector\+Xi \&I)
\begin{DoxyCompactList}\small\item\em This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\doxylink{namespaceigl_a48e2a2c1ae537d160f7767a230be66b3}{igl\+::decimate} implements a customizable greedy edge collapser using a priority-\/queue\+: 

\begin{DoxyVerb} Q ← {}
 for each edge e
   cost[e], placement[e] ← cost_and_placement(e)
   Q.update( e, cost[e] )

 while Q not empty
    e ← Q.pop()
    if cost[e] is finite 
       collapse_happened_flag = false
       if pre_collapse( e ) 
         collapse_happened_flag = collapse_edge( e )
       post_collapse( e, collapse_happened_flag )
       if collapse_happened_flag
         for each neighbor edge f
           cost[f], placement[f] ← cost_and_placement(f)
           Q.update( f, cost[f] )
         if stopping_condition()
           break
       else
          cost[ e ] = ∞
           Q.update( e, cost[e] )
\end{DoxyVerb}


There are four important callbacks that can be customized (\doxylink{decimate__callback__types_8h}{decimate\+\_\+callback\+\_\+types.\+h}). Note that any of these functions can capture user-\/defined book-\/keeping variables.

{\ttfamily cost\+\_\+and\+\_\+placement} This function is called for every original edge before the queue processing starts and then on the “neighbors” (edges in the two-\/ring) of a successfully collapsed edge. The function should output a cost that would be paid if the given edge were to be collapsed to a single vertex and the positional placement of that new vertex. Outputting a cost of ∞ guarantees that the edge will not be collapsed.

{\ttfamily pre\+\_\+collapse} This function is called just before {\ttfamily collapse\+\_\+edge} is attempted. If this function returns false then the collapse is aborted. This callback is an opportunity for callers to conduct a final check whether the collapse should really take place (e.\+g., based on the most current information, which may not be available at the time that {\ttfamily cost\+\_\+and\+\_\+placement} was called). This is rarely necessary and its preferred to use cost\+\_\+and\+\_\+placement to assign uncollapsible edges ∞ cost if possible.

{\ttfamily post\+\_\+collapse} This function is called after {\ttfamily collapse\+\_\+edge} is attempted. Since this collapse may have failed (e.\+g., it would create a non-\/manifold mesh). This callback is provided a flag whether the attempted collapse actually occurred. This callback is an opportunity for callers to update any data-\/structures/book-\/keeping to acknowledge the successful (or failed) collapse.

{\ttfamily stopping\+\_\+condition} This function is called after a successful call to {\ttfamily collapse\+\_\+edge}. If this function returns true then the entire queue-\/processing ends (e.\+g., if the number of remaining faces is below a user’s threshold).

\begin{DoxySeeAlso}{See also}
collapse\+\_\+edge qslim 
\end{DoxySeeAlso}
